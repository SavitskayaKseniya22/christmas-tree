(()=>{"use strict";var e={146:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.data=void 0,t.data=[{num:"1",name:"Большой шар с рисунком",count:"2",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:!1},{num:"2",name:"Зелёный шар с цветами",count:"5",year:"2000",shape:"шар",color:"зелёный",size:"большой",favorite:!1},{num:"3",name:"Красный матовый шар",count:"3",year:"1990",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"4",name:"Сосулька красная",count:"2",year:"1980",shape:"фигурка",color:"красный",size:"большой",favorite:!1},{num:"5",name:"Красный виноград",count:"4",year:"1980",shape:"фигурка",color:"красный",size:"средний",favorite:!0},{num:"6",name:"Красный шар с рисунком",count:"6",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"7",name:"Молочно-белый шар",count:"12",year:"1960",shape:"шар",color:"белый",size:"средний",favorite:!0},{num:"8",name:"Красный шар",count:"10",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"9",name:"Колокольчик старинный",count:"2",year:"1950",shape:"колокольчик",color:"белый",size:"большой",favorite:!1},{num:"10",name:"Белый шар ретро",count:"7",year:"1960",shape:"шар",color:"белый",size:"большой",favorite:!1},{num:"11",name:"Шишка еловая белая",count:"11",year:"1960",shape:"шишка",color:"белый",size:"малый",favorite:!1},{num:"12",name:"Белый шар с цветами",count:"5",year:"1980",shape:"шар",color:"белый",size:"большой",favorite:!1},{num:"13",name:"Шар расписной Река",count:"3",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:!0},{num:"14",name:"Шар расписной Деревня",count:"4",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:!0},{num:"15",name:"Колокольчик расписной",count:"3",year:"1970",shape:"колокольчик",color:"синий",size:"средний",favorite:!1},{num:"16",name:"Шишка расписная Пейзаж",count:"3",year:"1970",shape:"шишка",color:"синий",size:"средний",favorite:!0},{num:"17",name:"Шишка расписная",count:"7",year:"1970",shape:"шишка",color:"красный",size:"средний",favorite:!1},{num:"18",name:"Желтый шар с бантом",count:"2",year:"2010",shape:"шар",color:"желтый",size:"большой",favorite:!1},{num:"19",name:"Желтый шар с паетками",count:"12",year:"1980",shape:"шар",color:"желтый",size:"большой",favorite:!1},{num:"20",name:"Красный шар с бантом",count:"8",year:"1950",shape:"шар",color:"красный",size:"средний",favorite:!0},{num:"21",name:"Красный шар с звёздами",count:"4",year:"1970",shape:"шар",color:"красный",size:"большой",favorite:!0},{num:"22",name:"Шишка еловая золотая",count:"11",year:"1990",shape:"шишка",color:"желтый",size:"малый",favorite:!1},{num:"23",name:"Колокольчик старинный",count:"9",year:"1950",shape:"колокольчик",color:"желтый",size:"большой",favorite:!1},{num:"24",name:"Снежинка изящная",count:"1",year:"1940",shape:"снежинка",color:"белый",size:"большой",favorite:!1},{num:"25",name:"Розовый шар с блёстками",count:"12",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"26",name:"Рубиново-золотой шар",count:"8",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:!1},{num:"27",name:"Красный шар с узором",count:"4",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"28",name:"Бордовый шар с узором",count:"10",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"29",name:"Старинный шар с цветами",count:"5",year:"1950",shape:"шар",color:"желтый",size:"большой",favorite:!0},{num:"30",name:"Старинный шар с узором",count:"8",year:"1950",shape:"шар",color:"желтый",size:"большой",favorite:!0},{num:"31",name:"Красный шар с блёстками",count:"8",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"32",name:"Синий шар Вселенная",count:"11",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:!1},{num:"33",name:"Синий шар со снежинкой",count:"6",year:"2010",shape:"шар",color:"синий",size:"средний",favorite:!1},{num:"34",name:"Зелёный  шар с узором",count:"8",year:"2010",shape:"шар",color:"зелёный",size:"большой",favorite:!1},{num:"35",name:"Фигурка Лис в шарфе",count:"8",year:"1950",shape:"фигурка",color:"желтый",size:"средний",favorite:!0},{num:"36",name:"Сиреневый шар Метель",count:"1",year:"2000",shape:"шар",color:"синий",size:"большой",favorite:!1},{num:"37",name:"Зелёный  шар Метель",count:"6",year:"2000",shape:"шар",color:"зелёный",size:"большой",favorite:!1},{num:"38",name:"Голубой  шар Метель",count:"6",year:"2000",shape:"шар",color:"синий",size:"большой",favorite:!1},{num:"39",name:"Красная снежинка",count:"6",year:"1990",shape:"снежинка",color:"красный",size:"большой",favorite:!1},{num:"40",name:"Снежинка золотая",count:"12",year:"2020",shape:"снежинка",color:"желтый",size:"большой",favorite:!1},{num:"41",name:"Снежинка арктическая",count:"11",year:"2020",shape:"снежинка",color:"белый",size:"большой",favorite:!1},{num:"42",name:"Зелёный шар",count:"10",year:"1980",shape:"шар",color:"зелёный",size:"средний",favorite:!1},{num:"43",name:"Снежинка двухцветная",count:"6",year:"1960",shape:"снежинка",color:"красный",size:"большой",favorite:!1},{num:"44",name:"Фигурка Ангела",count:"11",year:"1940",shape:"фигурка",color:"красный",size:"средний",favorite:!0},{num:"45",name:"Снежинка новогодняя",count:"1",year:"1980",shape:"снежинка",color:"белый",size:"большой",favorite:!1},{num:"46",name:"Фигурка Мухомор",count:"10",year:"1950",shape:"фигурка",color:"красный",size:"малый",favorite:!1},{num:"47",name:"Фигурка Колодец",count:"6",year:"1950",shape:"фигурка",color:"красный",size:"малый",favorite:!1},{num:"48",name:"Желтый шар с бантом",count:"6",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:!1},{num:"49",name:"Снежинка с бирюзой",count:"4",year:"1980",shape:"снежинка",color:"желтый",size:"большой",favorite:!1},{num:"50",name:"Колокольчик большой",count:"3",year:"2020",shape:"колокольчик",color:"красный",size:"большой",favorite:!1},{num:"51",name:"Шишка с изморозью",count:"12",year:"1970",shape:"шишка",color:"красный",size:"малый",favorite:!1},{num:"52",name:"Красный шар с надписью",count:"12",year:"1990",shape:"шар",color:"красный",size:"большой",favorite:!0},{num:"53",name:"Снежинка серебристая",count:"6",year:"2020",shape:"снежинка",color:"белый",size:"большой",favorite:!1},{num:"54",name:"Зелёный шар с рисунком",count:"6",year:"2010",shape:"шар",color:"зелёный",size:"большой",favorite:!1},{num:"55",name:"Пряничный домик",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"большой",favorite:!1},{num:"56",name:"Пряничный теремок",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"малый",favorite:!1},{num:"57",name:"Пряничная избушка",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"средний",favorite:!1},{num:"58",name:"Фигурка белого медведя",count:"2",year:"1980",shape:"фигурка",color:"белый",size:"средний",favorite:!1},{num:"59",name:"Желтый шар с надписью",count:"10",year:"1990",shape:"шар",color:"желтый",size:"средний",favorite:!1},{num:"60",name:"Фигурка Голубь",count:"12",year:"1940",shape:"фигурка",color:"белый",size:"средний",favorite:!0}],t.default=t.data},473:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Game=t.saveSettings=void 0;const n=a(31),o=a(796),s=a(544),r=a(662),i=a(971),c=a(906),l=a(998);t.saveSettings=function(e,t){let a=JSON.parse(window.localStorage.getItem("gameSettings"));a||(a=u),a[e]=t,window.localStorage.setItem("gameSettings",JSON.stringify(a))};const u={isMusicPlaying:!1,isSnowing:!1,bg:"bg1",tree:"1",isGarlandEnabled:!1,garlandType:"5"};class d{constructor(e=u){var t;this.snow=new n.Snow(e),this.music=new o.Music(e),this.bg=new s.Background(e),this.garland=new r.Garland(e),this.tree=new i.Tree(e),this.decorateTree=new c.DecorateTree,this.decorateTree.printSelection(),this.restoreSettings(e),null===(t=document.querySelector(".reset-storage"))||void 0===t||t.addEventListener("click",(()=>{this.restoreSettings(u),this.decorateTree.printSelection()}))}restoreSettings(e){this.bg.changeBg(e.bg),this.snow.changeSnow(e.isSnowing),this.garland.changeGarland(e.isGarlandEnabled,e.garlandType),this.tree.changeTree(e.tree),this.music.changeMusic(e.isMusicPlaying)}}t.Game=d;const m=JSON.parse(window.localStorage.getItem("gameSettings"));m?new d(m):new d,new l.DoneList},544:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Background=void 0;const n=a(473);t.Background=class{constructor(e){this.bg=e.bg,document.addEventListener("click",(e=>{"bg"===e.target.getAttribute("name")&&this.changeBg(e.target.value)}))}changeBg(e){this.bg=e,document.querySelector(`input[value="${e}"]`).checked=!0,(0,n.saveSettings)("bg",this.bg),document.querySelector(".result-screen").className=`result-screen bg ${e}`}}},906:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DecorateTree=void 0;const n=a(494),o=a(146);t.DecorateTree=class{constructor(){document.addEventListener("dragover",(e=>{"AREA"===e.target.tagName&&(e.preventDefault(),e.dataTransfer.dropEffect="copy")})),document.addEventListener("drop",(e=>{const t=e.target;if("AREA"===t.tagName){const a=e.dataTransfer.getData("text"),n=document.querySelector(a),o=t.closest(".tree-container");let s=n.dataset.count;if(a.includes("toy-preview")&&+s>0){const t=n.cloneNode();s=String(+s-1),n.dataset.count=s,t.dataset.count=s,n.previousElementSibling.textContent=s,n.parentNode.append(n),o.append(t),this.setCoords(t,e,o),t.addEventListener("dblclick",(()=>{this.returnToy(t)})),e.dataTransfer.clearData()}else a.includes("tree-container")&&(o.append(n),this.setCoords(n,e,o))}})),document.addEventListener("dragstart",(e=>{"toy-image"===e.target.className&&this.onDragStart(e)}))}printSelection(){const e=document.querySelector(".selection-options ul"),t=JSON.parse(window.localStorage.getItem("selection"));if(e.innerHTML="",t&&t.length>0)t.forEach((t=>{e.innerHTML+=new n.ToyCard(o.data[t-1]).renderPreview()}));else{let t=0;for(;t<20;)e.innerHTML+=new n.ToyCard(o.data[t]).renderPreview(),t++}}returnToy(e){const t=e.getAttribute("data-num"),a=document.querySelector(`.toy-preview [data-num='${t}']`);e.remove();const n=String(+a.dataset.count+1);a.previousElementSibling.textContent=n,a.dataset.count=n}setCoords(e,t,a){const{pageX:n,pageY:o}=t;e.style.left=` ${n-(a.getBoundingClientRect().left+20+window.pageXOffset)}px`,e.style.top=o-(a.getBoundingClientRect().top+20+window.pageYOffset)+"px"}onDragStart(e){e.dataTransfer.effectAllowed="copy";const t=e.target.parentElement.className;e.dataTransfer.setData("text/plain",`.${t} [data-num='${e.target.dataset.num}'][data-count='${e.target.dataset.count}']`)}}},998:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DoneList=void 0;const n=a(473);t.DoneList=class{constructor(){var e,t;this.doneList=document.querySelector(".done-list"),window.localStorage.getItem("savedTrees")&&JSON.parse(window.localStorage.getItem("savedTrees")).forEach((e=>{this.makeSavedTree(e)})),null===(e=document.querySelector(".clear-tree"))||void 0===e||e.addEventListener("click",(()=>{window.localStorage.removeItem("savedTrees"),this.doneList.innerHTML=""})),null===(t=document.querySelector(".save-tree"))||void 0===t||t.addEventListener("click",(()=>{const e=JSON.parse(window.localStorage.getItem("gameSettings"));if(this.makeSavedTree(e),window.localStorage.getItem("savedTrees")){const t=JSON.parse(window.localStorage.getItem("savedTrees"));t.push(e),window.localStorage.setItem("savedTrees",JSON.stringify(t))}else window.localStorage.setItem("savedTrees",JSON.stringify([e]))})),document.addEventListener("click",(e=>{if(e.target.parentElement.classList.contains("done-list")){const t=JSON.parse(window.localStorage.getItem("savedTrees")),a=e.target.getAttribute("data-num"),o=t[Number(a)];new n.Game(o)}}))}makeSavedTree(e){const t=document.createElement("li");t.className=`bg ${e.bg}`,t.setAttribute("data-num",`${this.doneList.children.length}`),this.doneList.append(t)}}},662:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Garland=void 0;const n=a(473);t.Garland=class{constructor(e){this.garland=e.isGarlandEnabled,this.garlandType=e.garlandType,this.checkboxGarland=document.querySelector(".garland-enabler"),this.garlandButtons=document.querySelectorAll("input[name='garland']"),this.checkboxGarland.addEventListener("change",(()=>{this.changeGarland(this.checkboxGarland.checked,this.garlandType)})),document.addEventListener("click",(e=>{"garland"===e.target.getAttribute("name")&&this.changeGarland(this.checkboxGarland.checked,document.querySelector('input[name="garland"]:checked').value)}))}changeGarland(e,t){this.garland=e,this.garlandType=t,(0,n.saveSettings)("garland",this.garland),(0,n.saveSettings)("garlandType",this.garlandType);const a=Number(t)-1;if(this.removeGarland(),this.garland){this.checkboxGarland.checked=!0,this.garlandButtons[a].checked=!0;const e=this.garlandButtons[a].getAttribute("data-color"),t=document.querySelector(".tree-container"),n=document.createElement("div");n.className="garland-container",n.innerHTML+=this.printGarland(e),t.append(n)}else this.checkboxGarland.checked=!1,this.garlandButtons[a].checked=!1}removeGarland(){var e;this.garlandButtons.forEach((e=>{e.checked=!1})),null===(e=document.querySelector(".garland-container"))||void 0===e||e.remove()}printGarland(e){return`<ul id="garland-block-first" class="garland-block">\n    ${`<li class=${e}></li>`.repeat(8)}\n  </ul>\n  <ul id="garland-block-second" class="garland-block">\n  ${`<li class=${e}></li>`.repeat(8)}\n  </ul>\n  <ul id="garland-block-third" class="garland-block">\n  ${`<li class=${e}></li>`.repeat(8)}\n  </ul>\n  <ul id="garland-block-fourth" class="garland-block">\n ${`<li class=${e}></li>`.repeat(8)}\n  </ul>\n  <ul id="garland-block-fifth" class="garland-block">\n  ${`<li class=${e}></li>`.repeat(8)}\n  </ul>`}}},796:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Music=void 0;const n=a(473);t.Music=class{constructor(e){this.music=e.isMusicPlaying,this.checkboxMusic=document.querySelector("#toggle-button-music"),this.audio=document.querySelector("audio"),this.checkboxMusic.addEventListener("change",(()=>{this.changeMusic(this.checkboxMusic.checked)}))}changeMusic(e){this.music=e,(0,n.saveSettings)("music",this.music),this.music?(this.checkboxMusic.checked=!0,this.audio.play(),document.addEventListener("click",(()=>{this.audio.play()}),{once:!0})):(this.checkboxMusic.checked=!1,this.audio.pause())}}},31:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Snow=void 0;const n=a(473);t.Snow=class{constructor(e){this.snow=e.isSnowing,this.checkboxSnow=document.querySelector("#toggle-button-snow"),this.checkboxSnow.addEventListener("change",(()=>{this.changeSnow(this.checkboxSnow.checked)}))}changeSnow(e){this.snow=e,(0,n.saveSettings)("snow",this.snow);const t=document.querySelector(".snow-container");this.snow?(this.checkboxSnow.checked=!0,t.innerHTML=this.printSnow()):(this.checkboxSnow.checked=!1,t.innerHTML="")}printSnow(){return`<ul class="snowfall">\n      ${'<li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>'.repeat(8)}\n    </ul>\n    <ul class="snowfall2">\n    ${'<li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>'.repeat(8)}\n    </ul>\n    <ul class="snowfall3">\n    ${'<li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>'.repeat(8)} \n    </ul>\n    `}}},971:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Tree=void 0;const n=a(473);t.Tree=class{constructor(e){this.tree=e.tree,document.addEventListener("click",(e=>{"tree"===e.target.getAttribute("name")&&this.changeTree(e.target.value)}))}changeTree(e){this.tree=e,document.querySelector(`input[value="${e}"]`).checked=!0,(0,n.saveSettings)("tree",this.tree),document.querySelector(".tree-image").src=`./assets/tree/${e}.png`}}},494:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ToyCard=void 0,t.ToyCard=class{constructor(e){this.selection=!1,this.toyData=e,this.toyData.favorite?this.favoriteString="да":this.favoriteString="нет"}renderHTML(){return`<li class="toy-item" data-num=${this.toyData.num} data-selection=${this.selection}>\n    <h4 class="small-title">${this.toyData.name}</h4>\n    <img class="toy-image" src=../assets/toys/${this.toyData.num}.png alt="toy" />\n    <ul>\n      <li>Количество: <span class="count-toy">${this.toyData.count}</span></li>\n      <li>Год покупки: <span class="year-toy">${this.toyData.year}</span></li>\n      <li>Форма: <span class="shape-toy">${this.toyData.shape}</span></li>\n      <li>Цвет: <span class="color-toy">${this.toyData.color}</span></li>\n      <li>Размер: <span class="size-toy">${this.toyData.size}</span></li>\n      <li>Любимая: <span class="favorite-toy">${this.favoriteString}</span></li>\n    </ul>\n    <img class="star-image" src="../assets/svg/star-empty.svg" alt="star" />\n  </li>`}renderSelectionHTML(){return`<li class="toy-item toy-item_selected" data-num=${this.toyData.num}>\n    <h4 class="small-title">${this.toyData.name}</h4>\n    <img class="toy-image" src=../assets/toys/${this.toyData.num}.png alt="toy" />\n    <span class="count-toy">${this.toyData.count}</span>\n    <button class="remove-selection"><img src="../assets/svg/close-white.svg" alt="close" /></button>\n  </li>`}renderPreview(){return`<li class="toy-preview" draggable="true" data-num=${this.toyData.num}>\n    <span class="count-toy">${this.toyData.count}</span>\n    <img class="toy-image" data-count=${this.toyData.count} data-num=${this.toyData.num} src=./assets/toys/${this.toyData.num}.png alt="toy" />\n    \n  </li>`}}}},t={};!function a(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,a),s.exports}(473)})();